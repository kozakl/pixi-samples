PIXI.Texture.prototype.scale=1;PIXI.Texture.prototype.setScale=function(a){this.scale=a;this.frame.width*=this.scale;this.frame.height*=this.scale;if(this.trim)this.trim.x*=this.scale,this.trim.y*=this.scale,this.trim.width=this.trim.width*this.scale+0.5|0,this.trim.height=this.trim.height*this.scale+0.5|0;PIXI.defaultRenderer.type==PIXI.WEBGL_RENDERER&&(this.crop.width*=this.scale,this.crop.height*=this.scale,this.crop.x*=this.scale,this.crop.y*=this.scale,this._updateUvs())};
PIXI.Texture.prototype._updateUvs=function(){if(!this._uvs)this._uvs=new PIXI.TextureUvs;var a=this.crop,b=this.baseTexture.width*this.scale,c=this.baseTexture.height*this.scale;this._uvs.x0=a.x/b;this._uvs.y0=a.y/c;this._uvs.x1=(a.x+a.width)/b;this._uvs.y1=a.y/c;this._uvs.x2=(a.x+a.width)/b;this._uvs.y2=(a.y+a.height)/c;this._uvs.x3=a.x/b;this._uvs.y3=(a.y+a.height)/c};
PIXI.Sprite.prototype._renderCanvas=function(a){if(!(!1===this.visible||0===this.alpha||0>=this.texture.crop.width||0>=this.texture.crop.height)){if(this.blendMode!==a.currentBlendMode)a.currentBlendMode=this.blendMode,a.context.globalCompositeOperation=PIXI.blendModesCanvas[a.currentBlendMode];this._mask&&a.maskManager.pushMask(this._mask,a);if(this.texture.valid){var b=this.texture.baseTexture.resolution/a.resolution;a.context.globalAlpha=this.worldAlpha;a.roundPixels?a.context.setTransform(this.worldTransform.a,
this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*a.resolution|0,this.worldTransform.ty*a.resolution|0):a.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*a.resolution,this.worldTransform.ty*a.resolution);if(a.smoothProperty&&a.scaleMode!==this.texture.baseTexture.scaleMode)a.scaleMode=this.texture.baseTexture.scaleMode,a.context[a.smoothProperty]=a.scaleMode===PIXI.scaleModes.LINEAR;
var c=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,d=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height;if(16777215!==this.tint){if(this.cachedTint!==this.tint)this.cachedTint=this.tint,this.tintedTexture=PIXI.CanvasTinter.getTintedTexture(this,this.tint);a.context.drawImage(this.tintedTexture,0,0,this.texture.crop.width,this.texture.crop.height,c/b,d/b,this.texture.crop.width/
b*this.texture.scale,this.texture.crop.height/b*this.texture.scale)}else a.context.drawImage(this.texture.baseTexture.source,this.texture.crop.x,this.texture.crop.y,this.texture.crop.width,this.texture.crop.height,c/b,d/b,this.texture.crop.width/b*this.texture.scale,this.texture.crop.height/b*this.texture.scale)}b=0;for(c=this.children.length;b<c;b++)this.children[b]._renderCanvas(a);this._mask&&a.maskManager.popMask(a)}};
